# ğŸ¤– Agentic Workflow Cases

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Agently](https://img.shields.io/badge/Powered%20by-Agently-orange.svg)](https://github.com/Maplemx/Agently)

ä¸€ä¸ªå±•ç¤ºæ™ºèƒ½ä»£ç†å·¥ä½œæµï¼ˆAgentic Workflowï¼‰å®é™…åº”ç”¨æ¡ˆä¾‹çš„é¡¹ç›®é›†åˆã€‚é€šè¿‡å¤šä¸ªç²¾å¿ƒè®¾è®¡çš„æ¡ˆä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨AIä»£ç†åä½œå®Œæˆå¤æ‚ä»»åŠ¡ï¼Œæ¶µç›–å†…å®¹åˆ›ä½œã€ä¿¡æ¯æ£€ç´¢ã€æ•°æ®å¤„ç†ç­‰å¤šä¸ªé¢†åŸŸã€‚

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#-é¡¹ç›®æ¦‚è¿°)
- [æ¡ˆä¾‹åˆ—è¡¨](#-æ¡ˆä¾‹åˆ—è¡¨)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ç¯å¢ƒé…ç½®](#-ç¯å¢ƒé…ç½®)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#-è®¸å¯è¯)

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

Agentic Workflowï¼ˆæ™ºèƒ½ä»£ç†å·¥ä½œæµï¼‰æ˜¯ä¸€ç§æ–°å…´çš„AIåº”ç”¨æ¨¡å¼ï¼Œé€šè¿‡å¤šä¸ªä¸“é—¨åŒ–çš„AIä»£ç†åä½œï¼Œå®Œæˆå•ä¸ªAIéš¾ä»¥èƒœä»»çš„å¤æ‚ä»»åŠ¡ã€‚æœ¬é¡¹ç›®æ”¶é›†å¹¶å®ç°äº†å¤šä¸ªå…¸å‹çš„Agentic Workflowæ¡ˆä¾‹ï¼Œæ¯ä¸ªæ¡ˆä¾‹éƒ½å±•ç¤ºäº†ä¸åŒçš„åä½œæ¨¡å¼å’Œåº”ç”¨åœºæ™¯ã€‚

### æ ¸å¿ƒç‰¹ç‚¹

- ğŸ”„ **å¤šä»£ç†åä½œ**ï¼šå±•ç¤ºä¸åŒä»£ç†é—´çš„åä½œæ¨¡å¼
- ğŸ¨ **å¤šæ ·åŒ–åœºæ™¯**ï¼šæ¶µç›–å†…å®¹åˆ›ä½œã€ä¿¡æ¯æ£€ç´¢ã€æ•°æ®åˆ†æç­‰é¢†åŸŸ
- ğŸ› ï¸ **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¯ä¸ªæ¡ˆä¾‹éƒ½æ˜¯ç‹¬ç«‹çš„æ¨¡å—ï¼Œæ˜“äºç†è§£å’Œæ‰©å±•
- ğŸ“š **è¯¦ç»†æ–‡æ¡£**ï¼šæ¯ä¸ªæ¡ˆä¾‹éƒ½æœ‰å®Œæ•´çš„è¯´æ˜æ–‡æ¡£å’Œä½¿ç”¨æŒ‡å—
- ğŸ”§ **æ˜“äºæ‰©å±•**ï¼šæä¾›ç»Ÿä¸€çš„åŸºç¡€è®¾æ–½ï¼Œä¾¿äºæ·»åŠ æ–°æ¡ˆä¾‹

## ğŸ“ æ¡ˆä¾‹åˆ—è¡¨

### 1. ğŸ”„ Reflection Workflow - åæ€å¼å†…å®¹åˆ›ä½œå·¥ä½œæµ

åŸºäºActor-Criticæ¨¡å¼çš„æ™ºèƒ½åæ€å·¥ä½œæµç³»ç»Ÿï¼Œé€šè¿‡å‚ä¸è€…å’Œè¯„è®ºè€…çš„å¤šè½®åä½œï¼Œå®ç°å†…å®¹çš„æŒç»­æ”¹è¿›å’Œä¼˜åŒ–ã€‚

**æ ¸å¿ƒç‰¹æ€§ï¼š**
- Actor-Criticåä½œæ¨¡å¼
- å¤šè½®è¿­ä»£ä¼˜åŒ–
- å®Œæ•´çŠ¶æ€è¿½æº¯
- æ™ºèƒ½åé¦ˆæœºåˆ¶

**åº”ç”¨åœºæ™¯ï¼š**
- å­¦æœ¯è®ºæ–‡å†™ä½œå’Œæ”¹è¿›
- æŠ€æœ¯æ–‡æ¡£çš„è¿­ä»£ä¼˜åŒ–
- åˆ›æ„å†…å®¹çš„åæ€å¼åˆ›ä½œ

**è¯¦ç»†æ–‡æ¡£ï¼š** [reflection/README.md](reflection/README.md)

```python
from reflection.main import Runner

# åˆ›å»ºåæ€å·¥ä½œæµ
topic = "å¤§æ¨¡å‹ MCP"
num_cycles = 3
runner = Runner(topic, num_cycles)

# æ‰§è¡Œå·¥ä½œæµ
final_result = runner.run()
```

### 2. ğŸŒ Web Access Workflow - æ™ºèƒ½ç½‘ç»œæœç´¢å·¥ä½œæµ

åŸºäºå¤šä»£ç†åä½œçš„ç½‘ç»œä¿¡æ¯æ£€ç´¢å’Œæ‘˜è¦ç”Ÿæˆç³»ç»Ÿï¼Œé€šè¿‡æœç´¢ã€æŠ“å–ã€æ‘˜è¦ä¸‰ä¸ªä»£ç†çš„åä½œï¼Œå®ç°ä»æŸ¥è¯¢åˆ°æ‘˜è¦çš„å®Œæ•´ä¿¡æ¯å¤„ç†æµç¨‹ã€‚

**æ ¸å¿ƒç‰¹æ€§ï¼š**
- ä¸‰é˜¶æ®µæµæ°´çº¿å¤„ç†
- æ™ºèƒ½æŸ¥è¯¢ä¼˜åŒ–
- å¹¶å‘ç½‘é¡µæŠ“å–
- AIé©±åŠ¨æ‘˜è¦ç”Ÿæˆ

**åº”ç”¨åœºæ™¯ï¼š**
- æ–°é—»äº‹ä»¶å¿«é€Ÿè°ƒç ”
- å­¦æœ¯ç ”ç©¶èƒŒæ™¯æ”¶é›†
- å¸‚åœºåˆ†æå’Œç«å“è°ƒç ”
- ä¿¡æ¯æ•´ç†å’Œæ‘˜è¦ç”Ÿæˆ

**è¯¦ç»†æ–‡æ¡£ï¼š** [web_access/README.md](web_access/README.md)

```python
from web_access.main import WebAccess

# åˆ›å»ºç½‘ç»œæœç´¢å·¥ä½œæµ
web_access = WebAccess()

# æ‰§è¡Œæœç´¢ã€æŠ“å–ã€æ‘˜è¦æµç¨‹
query = "äººå·¥æ™ºèƒ½æœ€æ–°å‘å±•è¶‹åŠ¿"
web_access.run(query, location="")
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/agentic_workflow_case.git
cd agentic_workflow_case
```

### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®å¿…è¦çš„APIå¯†é’¥ï¼š

```env
# AIæ¨¡å‹APIé…ç½®
AGENTLY_API_KEY=your_agently_api_key
DOUBAO_API_KEY=your_doubao_api_key

# æœç´¢APIé…ç½®ï¼ˆç”¨äºweb_accessæ¡ˆä¾‹ï¼‰
SERPAPI_API_KEY=your_serpapi_key
```

### 4. è¿è¡Œæ¡ˆä¾‹

```bash
# è¿è¡Œåæ€å·¥ä½œæµæ¡ˆä¾‹
cd reflection
python main.py

# è¿è¡Œç½‘ç»œæœç´¢å·¥ä½œæµæ¡ˆä¾‹
cd web_access
python main.py
```

## âš™ï¸ ç¯å¢ƒé…ç½®

### ç³»ç»Ÿè¦æ±‚

- Python 3.8+
- 8GB+ RAMï¼ˆæ¨èï¼‰
- ç¨³å®šçš„ç½‘ç»œè¿æ¥

### ä¾èµ–åŒ…

```txt
agently>=0.1.0
requests>=2.28.0
beautifulsoup4>=4.11.0
python-dotenv>=0.19.0
loguru>=0.6.0
```

### APIæœåŠ¡

| æœåŠ¡ | ç”¨é€” | å¿…éœ€æ€§ | è·å–æ–¹å¼ |
|------|------|--------|----------|
| è±†åŒ…API | AIæ¨¡å‹è°ƒç”¨ | å¿…éœ€ | [è±†åŒ…å¼€æ”¾å¹³å°](https://www.volcengine.com/product/doubao) |
| SERP API | ç½‘ç»œæœç´¢ | web_accessæ¡ˆä¾‹å¿…éœ€ | [SerpApi](https://serpapi.com/) |

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
agentic_workflow_case/
â”œâ”€â”€ README.md                    # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ requirements.txt             # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ .env.example                # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ utils/                       # å…¬å…±å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ ChatModel.py            # AIæ¨¡å‹æ¥å£å°è£…
â”‚   â”œâ”€â”€ logger.py               # æ—¥å¿—é…ç½®
â”‚   â”œâ”€â”€ save_to_disk.py         # æ–‡ä»¶ä¿å­˜å·¥å…·
â”‚   â””â”€â”€ manage.py               # é¡¹ç›®ç®¡ç†å·¥å…·
â”œâ”€â”€ reflection/                  # åæ€å·¥ä½œæµæ¡ˆä¾‹
â”‚   â”œâ”€â”€ README.md               # æ¡ˆä¾‹è¯¦ç»†æ–‡æ¡£
â”‚   â”œâ”€â”€ main.py                 # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ actor.py                # Actorä»£ç†å®ç°
â”‚   â”œâ”€â”€ critic.py               # Criticä»£ç†å®ç°
â”‚   â”œâ”€â”€ prompts.py              # æç¤ºè¯å®šä¹‰
â”‚   â””â”€â”€ data/                   # æ•°æ®å­˜å‚¨ç›®å½•
â”œâ”€â”€ web_access/                  # ç½‘ç»œæœç´¢å·¥ä½œæµæ¡ˆä¾‹
â”‚   â”œâ”€â”€ README.md               # æ¡ˆä¾‹è¯¦ç»†æ–‡æ¡£
â”‚   â”œâ”€â”€ main.py                 # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ search.py               # æœç´¢ä»£ç†
â”‚   â”œâ”€â”€ scrape.py               # æŠ“å–ä»£ç†
â”‚   â”œâ”€â”€ summarize.py            # æ‘˜è¦ä»£ç†
â”‚   â”œâ”€â”€ serp.py                 # æœç´¢APIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ prompts.py              # æç¤ºè¯å®šä¹‰
â”‚   â””â”€â”€ data/                   # æ•°æ®å­˜å‚¨ç›®å½•
â”œâ”€â”€ test/                        # æµ‹è¯•æ–‡ä»¶ç›®å½•
â””â”€â”€ logs/                        # æ—¥å¿—æ–‡ä»¶ç›®å½•
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **[Agently](https://github.com/Maplemx/Agently)**: AIä»£ç†å¼€å‘æ¡†æ¶
- **Python**: ä¸»è¦ç¼–ç¨‹è¯­è¨€

### AIæœåŠ¡
- **è±†åŒ…API**: å¤§è¯­è¨€æ¨¡å‹æœåŠ¡
- **SERP API**: ç½‘ç»œæœç´¢æœåŠ¡

### å·¥å…·åº“
- **requests**: HTTPè¯·æ±‚å¤„ç†
- **BeautifulSoup**: HTMLè§£æ
- **loguru**: æ—¥å¿—ç®¡ç†
- **python-dotenv**: ç¯å¢ƒå˜é‡ç®¡ç†

### è®¾è®¡æ¨¡å¼
- **Actor-Criticæ¨¡å¼**: ç”¨äºåæ€å·¥ä½œæµ
- **Pipelineæ¨¡å¼**: ç”¨äºç½‘ç»œæœç´¢å·¥ä½œæµ
- **Factoryæ¨¡å¼**: ç”¨äºä»£ç†åˆ›å»º
- **Strategyæ¨¡å¼**: ç”¨äºä¸åŒå¤„ç†ç­–ç•¥

## ğŸ¨ æ¡ˆä¾‹ç‰¹è‰²

### Reflection Workflow ç‰¹è‰²

```mermaid
graph LR
    A[ç”¨æˆ·è¾“å…¥ä¸»é¢˜] --> B[Actorç”Ÿæˆåˆç¨¿]
    B --> C[Criticè¯„å®¡åé¦ˆ]
    C --> D[Actorä¿®è®¢å†…å®¹]
    D --> E{è¾¾åˆ°å¾ªç¯æ¬¡æ•°?}
    E -->|å¦| C
    E -->|æ˜¯| F[è¾“å‡ºæœ€ç»ˆç»“æœ]

    style A fill:#e1f5fe
    style F fill:#c8e6c9
    style B fill:#fff3e0
    style C fill:#fce4ec
    style D fill:#fff3e0
```

**å·¥ä½œæµç¨‹ï¼š**
1. **åˆå§‹åˆ›ä½œ**ï¼šActoræ ¹æ®ä¸»é¢˜ç”Ÿæˆåˆå§‹è‰ç¨¿
2. **ä¸“ä¸šè¯„å®¡**ï¼šCriticæä¾›åŒè¡Œè¯„è®®çº§åˆ«çš„åé¦ˆ
3. **è¿­ä»£æ”¹è¿›**ï¼šActoræ ¹æ®åé¦ˆç³»ç»Ÿæ€§ä¿®è®¢å†…å®¹
4. **å¾ªç¯ä¼˜åŒ–**ï¼šé‡å¤è¯„å®¡-ä¿®è®¢è¿‡ç¨‹ç›´åˆ°è¾¾åˆ°é¢„è®¾è½®æ¬¡
5. **çŠ¶æ€è¿½æº¯**ï¼šå®Œæ•´è®°å½•æ¯è½®çš„è‰ç¨¿å’Œè¯„å®¡å†å²

### Web Access Workflow ç‰¹è‰²

```mermaid
graph LR
    A[ç”¨æˆ·æŸ¥è¯¢] --> B[æœç´¢ä»£ç†]
    B --> C[æŠ“å–ä»£ç†]
    C --> D[æ‘˜è¦ä»£ç†]
    D --> E[ç»“æ„åŒ–æ‘˜è¦]

    B --> F[SERP API]
    F --> G[æœç´¢ç»“æœ]
    G --> C

    C --> H[å¹¶å‘æŠ“å–]
    H --> I[å†…å®¹æ¸…ç†]
    I --> D

    D --> J[AIæ‘˜è¦]
    J --> K[å¼•ç”¨ç®¡ç†]
    K --> E

    style A fill:#e1f5fe
    style E fill:#c8e6c9
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style D fill:#e8f5e8
```

**å·¥ä½œæµç¨‹ï¼š**
1. **æ™ºèƒ½æœç´¢**ï¼šAIä¼˜åŒ–æŸ¥è¯¢è¯ï¼Œè°ƒç”¨æœç´¢APIè·å–ç»“æœ
2. **å¹¶å‘æŠ“å–**ï¼šå¤šçº¿ç¨‹æŠ“å–ç½‘é¡µå†…å®¹ï¼Œæ™ºèƒ½å»å™ªå¤„ç†
3. **æ‘˜è¦ç”Ÿæˆ**ï¼šAIåˆ†æå†…å®¹ç”Ÿæˆç»“æ„åŒ–æ‘˜è¦ï¼Œè‡ªåŠ¨æ·»åŠ å¼•ç”¨

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### å®Œæ•´ç¤ºä¾‹ï¼šåæ€å·¥ä½œæµ

```python
from reflection.main import Runner

def run_reflection_example():
    """è¿è¡Œåæ€å·¥ä½œæµç¤ºä¾‹"""

    # é…ç½®å‚æ•°
    topic = "äººå·¥æ™ºèƒ½åœ¨æ•™è‚²é¢†åŸŸçš„åº”ç”¨ä¸æŒ‘æˆ˜"
    num_cycles = 3

    # åˆ›å»ºå·¥ä½œæµå®ä¾‹
    runner = Runner(topic, num_cycles)

    # æ‰§è¡Œå·¥ä½œæµ
    print(f"å¼€å§‹æ‰§è¡Œåæ€å·¥ä½œæµï¼Œä¸»é¢˜ï¼š{topic}")
    print(f"è®¡åˆ’æ‰§è¡Œ {num_cycles} è½®è¿­ä»£...")

    final_result = runner.run()

    # æŸ¥çœ‹ç»“æœ
    print("å·¥ä½œæµæ‰§è¡Œå®Œæˆï¼")
    print(f"æœ€ç»ˆç»“æœé•¿åº¦ï¼š{len(final_result)} å­—ç¬¦")

    # æŸ¥çœ‹å®Œæ•´å†å²
    state_manager = runner.state_manager
    markdown_history = state_manager.to_markdown()

    # ä¿å­˜å†å²è®°å½•
    with open("reflection_history.md", "w", encoding="utf-8") as f:
        f.write(markdown_history)

    print("å®Œæ•´å†å²å·²ä¿å­˜åˆ° reflection_history.md")

if __name__ == "__main__":
    run_reflection_example()
```

### å®Œæ•´ç¤ºä¾‹ï¼šç½‘ç»œæœç´¢å·¥ä½œæµ

```python
from web_access.main import WebAccess

def run_web_access_example():
    """è¿è¡Œç½‘ç»œæœç´¢å·¥ä½œæµç¤ºä¾‹"""

    # åˆ›å»ºå·¥ä½œæµå®ä¾‹
    web_access = WebAccess()

    # å®šä¹‰æŸ¥è¯¢
    queries = [
        "ChatGPTæœ€æ–°åŠŸèƒ½æ›´æ–°",
        "2024å¹´äººå·¥æ™ºèƒ½å‘å±•è¶‹åŠ¿",
        "å¤§æ¨¡å‹åœ¨ä¼ä¸šä¸­çš„åº”ç”¨æ¡ˆä¾‹"
    ]

    for query in queries:
        print(f"\nå¤„ç†æŸ¥è¯¢ï¼š{query}")
        print("-" * 50)

        try:
            # æ‰§è¡Œå®Œæ•´æµç¨‹
            web_access.run(query, location="china")
            print(f"âœ… æŸ¥è¯¢ '{query}' å¤„ç†å®Œæˆ")

        except Exception as e:
            print(f"âŒ æŸ¥è¯¢ '{query}' å¤„ç†å¤±è´¥ï¼š{str(e)}")

    print("\næ‰€æœ‰æŸ¥è¯¢å¤„ç†å®Œæˆï¼")
    print("ç»“æœæ–‡ä»¶ä¿å­˜åœ¨ web_access/data/output/ ç›®å½•ä¸‹")

if __name__ == "__main__":
    run_web_access_example()
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

- [Agently](https://github.com/Maplemx/Agently) - ä¼˜ç§€çš„AIä»£ç†å¼€å‘æ¡†æ¶
- [è±†åŒ…](https://www.volcengine.com/product/doubao) - å¼ºå¤§çš„å¤§è¯­è¨€æ¨¡å‹æœåŠ¡
- [SerpApi](https://serpapi.com/) - å¯é çš„æœç´¢APIæœåŠ¡

## ğŸ“ è”ç³»æˆ‘ä»¬

- **é¡¹ç›®ç»´æŠ¤è€…**: justin.éƒ‘
- **é‚®ç®±**: 3907721@qq.com
- **Issues**: [GitHub Issues](https://github.com/your-username/agentic_workflow_case/issues)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªæ˜Ÿæ ‡ï¼

ğŸ”„ æŒç»­æ›´æ–°ä¸­ï¼Œæ›´å¤šç²¾å½©çš„Agentic Workflowæ¡ˆä¾‹å³å°†åˆ°æ¥...

